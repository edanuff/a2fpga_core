#! /usr/local/bin/vvp
:ivl_version "13.0 (devel)" "(s20221226-331-g77d7f0b8f)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/local/lib/ivl/system.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_sys.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_textio.vpi";
:vpi_module "/usr/local/lib/ivl/v2005_math.vpi";
:vpi_module "/usr/local/lib/ivl/va_math.vpi";
:vpi_module "/usr/local/lib/ivl/v2009.vpi";
S_0x126e0d4b0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x126e06b00 .scope module, "test_qspi_protocol_gen" "test_qspi_protocol_gen" 3 6;
 .timescale -9 -12;
P_0x600000063240 .param/real "CLK_PERIOD" 0 3 16, Cr<m4a00000000000000gfc6>; value=18.5000
L_0x600003e6a7d0 .functor AND 1, v0x60000276e010_0, L_0x60000246c280, C4<1>, C4<1>;
L_0x600003e6a840 .functor AND 1, L_0x60000246c3c0, v0x60000276d200_0, C4<1>, C4<1>;
L_0x600003e6a8b0 .functor AND 1, L_0x60000246c460, v0x60000276d0e0_0, C4<1>, C4<1>;
L_0x600003e6a920 .functor AND 1, v0x60000276de60_0, L_0x60000246c500, C4<1>, C4<1>;
v0x60000276d560_0 .net *"_ivl_1", 0 0, L_0x60000246c280;  1 drivers
v0x60000276d5f0_0 .net *"_ivl_13", 0 0, L_0x60000246c500;  1 drivers
v0x60000276d680_0 .net *"_ivl_5", 0 0, L_0x60000246c3c0;  1 drivers
v0x60000276d710_0 .net *"_ivl_9", 0 0, L_0x60000246c460;  1 drivers
v0x60000276d7a0 .array "captured_nibbles", 15 0, 3 0;
v0x60000276d830_0 .var "captured_packet", 31 0;
v0x60000276d8c0_0 .var "clk", 0 0;
v0x60000276d950_0 .net "cs_falling", 0 0, L_0x600003e6a7d0;  1 drivers
v0x60000276d9e0_0 .net "cs_rising", 0 0, L_0x600003e6a840;  1 drivers
v0x60000276da70_0 .var "current_qspi_clk_rising", 63 0;
v0x60000276db00_0 .var "last_qspi_clk_rising", 63 0;
v0x60000276db90_0 .var/i "nibble_count", 31 0;
v0x60000276dc20_0 .net "qspi_clk", 0 0, v0x60000276d0e0_0;  1 drivers
v0x60000276dcb0_0 .net "qspi_clk_falling", 0 0, L_0x600003e6a920;  1 drivers
v0x60000276dd40_0 .var/real "qspi_clk_freq", 0 0;
v0x60000276ddd0_0 .var/real "qspi_clk_period", 0 0;
v0x60000276de60_0 .var "qspi_clk_prev", 0 0;
v0x60000276def0_0 .net "qspi_clk_rising", 0 0, L_0x600003e6a8b0;  1 drivers
v0x60000276df80_0 .net "qspi_cs", 0 0, v0x60000276d200_0;  1 drivers
v0x60000276e010_0 .var "qspi_cs_prev", 0 0;
v0x60000276e0a0_0 .net "qspi_data", 3 0, L_0x600003e6a6f0;  1 drivers
v0x60000276e130_0 .var "rst_n", 0 0;
v0x60000276e1c0_0 .var/i "transaction_count", 31 0;
E_0x6000000632c0 .event posedge, v0x60000276cfc0_0;
L_0x60000246c280 .reduce/nor v0x60000276d200_0;
L_0x60000246c3c0 .reduce/nor v0x60000276e010_0;
L_0x60000246c460 .reduce/nor v0x60000276de60_0;
L_0x60000246c500 .reduce/nor v0x60000276d0e0_0;
S_0x126e06c70 .scope module, "dut" "qspi_protocol_gen" 3 22, 4 4 0, S_0x126e06b00;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /OUTPUT 1 "qspi_cs";
    .port_info 3 /OUTPUT 1 "qspi_clk";
    .port_info 4 /OUTPUT 4 "qspi_data";
P_0x600000063300 .param/l "CLOCK_SPEED_HZ" 0 4 5, +C4<00000011001101111111100110000000>;
enum0x600003b6d500 .enum4 (3)
   "IDLE" 3'b000,
   "CS_SETUP" 3'b001,
   "TRANSMIT" 3'b010,
   "CS_HOLD" 3'b011,
   "CS_RELEASE" 3'b100
 ;
L_0x600003e6a6f0 .functor BUFZ 4, v0x60000276d320_0, C4<0000>, C4<0000>, C4<0000>;
L_0x108078010 .functor BUFT 1, C4<00000>, C4<0>, C4<0>, C4<0>;
v0x60000276cc60_0 .net/2u *"_ivl_0", 4 0, L_0x108078010;  1 drivers
v0x60000276ccf0_0 .var "bit_counter_r", 3 0;
v0x60000276cd80_0 .net "clk", 0 0, v0x60000276d8c0_0;  1 drivers
v0x60000276ce10_0 .var "clk_div_r", 4 0;
v0x60000276cea0_0 .var "packet_counter_r", 7 0;
v0x60000276cf30_0 .var "packet_data_r", 31 0;
v0x60000276cfc0_0 .net "qspi_clk", 0 0, v0x60000276d0e0_0;  alias, 1 drivers
v0x60000276d050_0 .net "qspi_clk_en_w", 0 0, L_0x60000246c1e0;  1 drivers
v0x60000276d0e0_0 .var "qspi_clk_r", 0 0;
v0x60000276d170_0 .net "qspi_cs", 0 0, v0x60000276d200_0;  alias, 1 drivers
v0x60000276d200_0 .var "qspi_cs_r", 0 0;
v0x60000276d290_0 .net "qspi_data", 3 0, L_0x600003e6a6f0;  alias, 1 drivers
v0x60000276d320_0 .var "qspi_data_r", 3 0;
v0x60000276d3b0_0 .var "qspi_state_r", 2 0;
v0x60000276d440_0 .net "rst_n", 0 0, v0x60000276e130_0;  1 drivers
v0x60000276d4d0_0 .var "timer_r", 7 0;
E_0x600000063380 .event posedge, v0x60000276cd80_0;
L_0x60000246c1e0 .cmp/eq 5, v0x60000276ce10_0, L_0x108078010;
    .scope S_0x126e06c70;
T_0 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x60000276d3b0_0, 0, 3;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60000276d4d0_0, 0, 8;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x60000276ccf0_0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60000276cf30_0, 0, 32;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x60000276cea0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60000276d200_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60000276d0e0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x60000276d320_0, 0, 4;
    %pushi/vec4 0, 0, 5;
    %store/vec4 v0x60000276ce10_0, 0, 5;
    %end;
    .thread T_0, $init;
    .scope S_0x126e06c70;
T_1 ;
    %wait E_0x600000063380;
    %load/vec4 v0x60000276d440_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.0, 8;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x60000276ce10_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x60000276ccf0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x60000276cf30_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276cea0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60000276d0e0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0x60000276ce10_0;
    %addi 1, 0, 5;
    %assign/vec4 v0x60000276ce10_0, 0;
    %load/vec4 v0x60000276d050_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.2, 8;
    %load/vec4 v0x60000276d0e0_0;
    %inv;
    %assign/vec4 v0x60000276d0e0_0, 0;
T_1.2 ;
    %load/vec4 v0x60000276d050_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.4, 8;
    %load/vec4 v0x60000276d3b0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_1.6, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_1.7, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_1.8, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_1.9, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_1.10, 6;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
    %jmp T_1.12;
T_1.6 ;
    %load/vec4 v0x60000276d4d0_0;
    %addi 1, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %load/vec4 v0x60000276d4d0_0;
    %cmpi/u 100, 0, 8;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_1.13, 5;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x60000276ccf0_0, 0;
    %pushi/vec4 2864434397, 0, 32;
    %assign/vec4 v0x60000276cf30_0, 0;
    %load/vec4 v0x60000276cea0_0;
    %addi 1, 0, 8;
    %assign/vec4 v0x60000276cea0_0, 0;
    %pushi/vec4 1, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
T_1.13 ;
    %jmp T_1.12;
T_1.7 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 28, 6;
    %assign/vec4 v0x60000276d320_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %pushi/vec4 2, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
    %jmp T_1.12;
T_1.8 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %load/vec4 v0x60000276d0e0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.15, 8;
    %load/vec4 v0x60000276ccf0_0;
    %addi 1, 0, 4;
    %assign/vec4 v0x60000276ccf0_0, 0;
    %load/vec4 v0x60000276ccf0_0;
    %cmpi/u 7, 0, 4;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_1.17, 5;
    %pushi/vec4 3, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
T_1.17 ;
T_1.15 ;
    %load/vec4 v0x60000276ccf0_0;
    %parti/s 3, 0, 2;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_1.19, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_1.20, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_1.21, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_1.22, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_1.23, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 3;
    %cmp/u;
    %jmp/1 T_1.24, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 3;
    %cmp/u;
    %jmp/1 T_1.25, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 3;
    %cmp/u;
    %jmp/1 T_1.26, 6;
    %jmp T_1.27;
T_1.19 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 28, 6;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.20 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 24, 6;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.21 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 20, 6;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.22 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 16, 6;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.23 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 12, 5;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.24 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 8, 5;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.25 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 4, 4;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.26 ;
    %load/vec4 v0x60000276cf30_0;
    %parti/s 4, 0, 2;
    %assign/vec4 v0x60000276d320_0, 0;
    %jmp T_1.27;
T_1.27 ;
    %pop/vec4 1;
    %jmp T_1.12;
T_1.9 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %load/vec4 v0x60000276d4d0_0;
    %addi 1, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %load/vec4 v0x60000276d4d0_0;
    %cmpi/u 5, 0, 8;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_1.28, 5;
    %pushi/vec4 4, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
T_1.28 ;
    %jmp T_1.12;
T_1.10 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x60000276d200_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x60000276d320_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60000276d4d0_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x60000276d3b0_0, 0;
    %jmp T_1.12;
T_1.12 ;
    %pop/vec4 1;
T_1.4 ;
T_1.1 ;
    %jmp T_1;
    .thread T_1;
    .scope S_0x126e06b00;
T_2 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60000276d8c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60000276e130_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60000276db90_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60000276e1c0_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60000276e010_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60000276de60_0, 0, 1;
    %pushi/real 0, 4065; load=0.00000
    %store/real v0x60000276ddd0_0;
    %pushi/real 0, 4065; load=0.00000
    %store/real v0x60000276dd40_0;
    %pushi/vec4 0, 0, 64;
    %store/vec4 v0x60000276db00_0, 0, 64;
    %pushi/vec4 0, 0, 64;
    %store/vec4 v0x60000276da70_0, 0, 64;
    %end;
    .thread T_2, $init;
    .scope S_0x126e06b00;
T_3 ;
    %delay 9250, 0;
    %load/vec4 v0x60000276d8c0_0;
    %inv;
    %store/vec4 v0x60000276d8c0_0, 0, 1;
    %jmp T_3;
    .thread T_3;
    .scope S_0x126e06b00;
T_4 ;
    %wait E_0x600000063380;
    %load/vec4 v0x60000276df80_0;
    %assign/vec4 v0x60000276e010_0, 0;
    %jmp T_4;
    .thread T_4;
    .scope S_0x126e06b00;
T_5 ;
    %wait E_0x600000063380;
    %load/vec4 v0x60000276dc20_0;
    %assign/vec4 v0x60000276de60_0, 0;
    %jmp T_5;
    .thread T_5;
    .scope S_0x126e06b00;
T_6 ;
    %wait E_0x600000063380;
    %load/vec4 v0x60000276d950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %load/vec4 v0x60000276e1c0_0;
    %addi 1, 0, 32;
    %vpi_call/w 3 58 "$display", "=== TRANSACTION %0d STARTED at time %0t ===", S<0,vec4,s32>, $time {1 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60000276db90_0, 0, 32;
T_6.0 ;
    %load/vec4 v0x60000276df80_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_6.4, 9;
    %load/vec4 v0x60000276def0_0;
    %and;
T_6.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %load/vec4 v0x60000276e0a0_0;
    %ix/getv/s 4, v0x60000276db90_0;
    %store/vec4a v0x60000276d7a0, 4, 0;
    %vpi_call/w 3 65 "$display", "  Clock %0d: Data=0x%X (CS=%b, CLK=%b) at %0t", v0x60000276db90_0, v0x60000276e0a0_0, v0x60000276df80_0, v0x60000276dc20_0, $time {0 0 0};
    %load/vec4 v0x60000276db90_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60000276db90_0, 0, 32;
T_6.2 ;
    %load/vec4 v0x60000276d9e0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.5, 8;
    %load/vec4 v0x60000276db90_0;
    %cmpi/s 8, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_6.7, 5;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x60000276d7a0, 4;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x60000276d830_0, 0, 32;
    %load/vec4 v0x60000276e1c0_0;
    %addi 1, 0, 32;
    %vpi_call/w 3 81 "$display", "=== TRANSACTION %0d COMPLETE ===", S<0,vec4,s32> {1 0 0};
    %vpi_call/w 3 82 "$display", "  Nibbles captured: %0d", v0x60000276db90_0 {0 0 0};
    %vpi_call/w 3 83 "$display", "  Raw sequence: %X%X%X%X%X%X%X%X", &A<v0x60000276d7a0, 0>, &A<v0x60000276d7a0, 1>, &A<v0x60000276d7a0, 2>, &A<v0x60000276d7a0, 3>, &A<v0x60000276d7a0, 4>, &A<v0x60000276d7a0, 5>, &A<v0x60000276d7a0, 6>, &A<v0x60000276d7a0, 7> {0 0 0};
    %vpi_call/w 3 86 "$display", "  Reconstructed packet: 0x%08X", v0x60000276d830_0 {0 0 0};
    %load/vec4 v0x60000276d830_0;
    %cmpi/e 2864434397, 0, 32;
    %jmp/0xz  T_6.9, 4;
    %vpi_call/w 3 90 "$display", "  \342\234\223 CORRECT PATTERN: 0xAABBCCDD" {0 0 0};
    %jmp T_6.10;
T_6.9 ;
    %vpi_call/w 3 92 "$display", "  \342\234\227 PATTERN ERROR: Expected 0xAABBCCDD, got 0x%08X", v0x60000276d830_0 {0 0 0};
T_6.10 ;
    %jmp T_6.8;
T_6.7 ;
    %load/vec4 v0x60000276e1c0_0;
    %addi 1, 0, 32;
    %vpi_call/w 3 95 "$display", "=== TRANSACTION %0d INCOMPLETE ===", S<0,vec4,s32> {1 0 0};
    %vpi_call/w 3 96 "$display", "  Only %0d nibbles captured (expected 8)", v0x60000276db90_0 {0 0 0};
T_6.8 ;
    %load/vec4 v0x60000276e1c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60000276e1c0_0, 0, 32;
    %vpi_call/w 3 100 "$display", "\000" {0 0 0};
T_6.5 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x126e06b00;
T_7 ;
    %wait E_0x6000000632c0;
    %vpi_func 3 111 "$time" 64 {0 0 0};
    %store/vec4 v0x60000276da70_0, 0, 64;
    %load/vec4 v0x60000276db00_0;
    %cmpi/ne 0, 0, 64;
    %jmp/0xz  T_7.0, 4;
    %load/vec4 v0x60000276da70_0;
    %load/vec4 v0x60000276db00_0;
    %sub;
    %cvt/rv;
    %store/real v0x60000276ddd0_0;
    %pushi/real 2000000000, 4095; load=1.00000e+09
    %load/real v0x60000276ddd0_0;
    %div/wr;
    %store/real v0x60000276dd40_0;
T_7.0 ;
    %load/vec4 v0x60000276da70_0;
    %store/vec4 v0x60000276db00_0, 0, 64;
    %jmp T_7;
    .thread T_7;
    .scope S_0x126e06b00;
T_8 ;
    %vpi_call/w 3 121 "$display", "Starting QSPI Protocol Generator Test" {0 0 0};
    %vpi_call/w 3 122 "$display", "Expected behavior:" {0 0 0};
    %vpi_call/w 3 123 "$display", "  - CS starts HIGH, goes LOW during transaction" {0 0 0};
    %vpi_call/w 3 124 "$display", "  - SCLK should toggle at ~844kHz during transaction" {0 0 0};
    %vpi_call/w 3 125 "$display", "  - 8 nibbles per transaction: A-A-B-B-C-C-D-D" {0 0 0};
    %vpi_call/w 3 126 "$display", "  - 32-bit packet: 0xAABBCCDD" {0 0 0};
    %vpi_call/w 3 127 "$display", "\000" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60000276e130_0, 0, 1;
    %delay 185000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60000276e130_0, 0, 1;
    %vpi_call/w 3 133 "$display", "Reset released at time %0t", $time {0 0 0};
    %vpi_call/w 3 134 "$display", "\000" {0 0 0};
    %delay 925000000, 0;
    %pushi/vec4 0, 0, 32;
    %cvt/rv/s;
    %load/real v0x60000276ddd0_0;
    %cmp/wr;
    %jmp/0xz  T_8.0, 5;
    %vpi_call/w 3 141 "$display", "QSPI Clock Analysis:" {0 0 0};
    %vpi_call/w 3 142 "$display", "  Period: %.2f ns", v0x60000276ddd0_0 {0 0 0};
    %load/real v0x60000276dd40_0;
    %pushi/real 2097152000, 4075; load=1000.00
    %div/wr;
    %vpi_call/w 3 143 "$display", "  Frequency: %.0f Hz (%.2f kHz)", v0x60000276dd40_0, W<0,r> {0 1 0};
    %vpi_call/w 3 144 "$display", "  Expected: ~844 kHz" {0 0 0};
T_8.0 ;
    %vpi_call/w 3 147 "$display", "\000" {0 0 0};
    %vpi_call/w 3 148 "$display", "Test completed - captured %0d transactions", v0x60000276e1c0_0 {0 0 0};
    %vpi_call/w 3 149 "$finish" {0 0 0};
    %end;
    .thread T_8;
    .scope S_0x126e06b00;
T_9 ;
    %vpi_call/w 3 154 "$dumpfile", "qspi_protocol_gen.vcd" {0 0 0};
    %vpi_call/w 3 155 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x126e06b00 {0 0 0};
    %end;
    .thread T_9;
    .scope S_0x126e06b00;
T_10 ;
    %delay 1850000000, 0;
    %vpi_call/w 3 161 "$display", "ERROR: Simulation timeout!" {0 0 0};
    %vpi_call/w 3 162 "$finish" {0 0 0};
    %end;
    .thread T_10;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "test_qspi_protocol_gen.sv";
    "qspi_protocol_gen.sv";
